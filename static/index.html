<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8">
  <title>ç·šä¸Šä¼°åƒ¹å–®</title>
  <style>
    body {
      font-family: "Microsoft JhengHei", sans-serif;
      margin: 20px;
    }
    h2 {
      color: green;
    }
    .item {
      margin-bottom: 8px;
    }
    input[type="number"] {
      width: 60px;
    }
  </style>
</head>
<body>
  <h2>âœ… ä¼°åƒ¹è¡¨å–®é é¢è¼‰å…¥æˆåŠŸ</h2>
  <form id="estimateForm">
    <div class="items"></div>

    <hr>
    <p><strong>ğŸ“Œ è¯çµ¡è³‡æ–™</strong></p>
    <label>å§“åï¼š<input type="text" name="name" required></label><br>
    <label>é›»è©±ï¼š<input type="tel" name="phone" required></label><br>
    <label>åœ°å€ï¼š<input type="text" name="address" required></label><br>
    <label>å‹˜å ´æ™‚é–“ï¼š<input type="text" name="time" required></label><br>
    <input type="hidden" name="user_id" id="user_id">
    <br><button type="submit">ğŸ“¤ é€å‡ºä¼°åƒ¹</button>
  </form>

  <script>
    const services = [
      {"name": "æ–°å¢220Væ’åº§", "unit": "è™•", "price_low": 800, "price_high": 1800,"remark": "12MMå…§ä¾ç¾å ´æ–½å·¥é›£æ˜“åº¦ï¼Œå¦‚éœ€é…ç®¡æˆ–é‘¿ç‰†å¦è¨ˆ"},
      {"name": "æ–°å¢110væ’åº§(å«ç·šè·¯)", "unit": "è™•", "price_low": 800, "price_high": 1800,"remark": "12MMå…§ä¾ç¾å ´æ–½å·¥é›£æ˜“åº¦ï¼Œå¦‚éœ€é…ç®¡æˆ–é‘¿ç‰†å¦è¨ˆ"},
      {"name": "æ–°å¢110vé›»æºè¿´è·¯(2.0MM)", "unit": "è¿´", "price_low": 2000, "price_high": 3500,"remark": "15MMå…§ä¾ç¾å ´æ–½å·¥é›£æ˜“åº¦ï¼Œå¦‚éœ€é…ç®¡æˆ–é‘¿ç‰†å¦è¨ˆ"},
      {"name": "æ–°å¢220vé›»æºè¿´è·¯(5.5MM)", "unit": "è¿´", "price_low": 3800, "price_high": 5800,"remark": "15MMå…§ä¾ç¾å ´æ–½å·¥é›£æ˜“åº¦ï¼Œå¦‚éœ€é…ç®¡æˆ–é‘¿ç‰†å¦è¨ˆ"},
      {"name": "é›»æºé–‹é—œ(å–®åˆ‡)", "unit": "çµ„", "price_low": 1800, "price_high": 3000,"remark": "12MMå…§ä¾ç¾å ´æ–½å·¥é›£æ˜“åº¦ï¼Œå¦‚éœ€é…ç®¡æˆ–é‘¿ç‰†å¦è¨ˆ"},
      {"name": "é›»æºé–‹é—œ(é›™åˆ‡)", "unit": "çµ„", "price_low": 2500, "price_high": 4500,"remark": "12MMå…§ä¾ç¾å ´æ–½å·¥é›£æ˜“åº¦ï¼Œå¦‚éœ€é…ç®¡æˆ–é‘¿ç‰†å¦è¨ˆ"},
      {"name": "é›»æºè¿´è·¯", "unit": "è¿´", "price_low": 2000, "price_high": 3500,"remark": "15MMå…§ä¾ç¾å ´æ–½å·¥é›£æ˜“åº¦ï¼Œå¦‚éœ€é…ç®¡æˆ–é‘¿ç‰†å¦è¨ˆ"},
      {"name": "æ’åº§/é–‹é—œæ›´æ›", "unit": "çµ„", "price_low": 200, "price_high": 800,"remark": "ä¸å«ç‰¹æ®Šé¢æ¿"},
      {"name": "æ–·è·¯å™¨(é™„æ¼é›»)", "unit": "çµ„", "price_low": 800, "price_high": 1200,"remark": ""},
      {"name": "æ–·è·¯å™¨", "unit": "çµ„", "price_low": 300, "price_high": 1000,"remark": ""},
      {"name": "ç¨ç«‹é›»è¡¨å®‰è£(ç§è¡¨)", "unit": "åª", "price_low": 1500, "price_high": 2000,"remark": ""},
      {"name": "é–‹é—œç®±/é˜²æ°´ç®±å®‰è£", "unit": "çµ„", "price_low": 500, "price_high": 2000,"remark": "ä¸å«è¨­å‚™"},
      {"name": "ç†±æ°´å™¨å®‰è£(å„²ç†±å¼)", "unit": "å¼", "price_low": 2500, "price_high": 6500,"remark": "ä¸å«è¨­å‚™ï¼Œé…ç®¡é…ç·šå¦è¨ˆ"},
      {"name": "ç†±æ°´å™¨å®‰è£(å³ç†±å¼)", "unit": "å¼", "price_low": 2000, "price_high": 3000,"remark": "ä¸å«è¨­å‚™ï¼Œé…ç®¡é…ç·šå¦è¨ˆ"},
      {"name": "åŠ å£“(æŠ½æ°´)é¦¬é”æ›´æ›", "unit": "å¼", "price_low": 1500, "price_high": 3500,"remark": "ä¸å«è¨­å‚™ï¼Œé…ç®¡é…ç·šå¦è¨ˆ"},
      {"name": "æ–°å¢å†·æ°´å‡ºå£4åˆ†PVC", "unit": "è™•", "price_low": 1800, "price_high": 3500,"remark": "12MMå…§ä¾ç¾å ´æ–½å·¥é›£æ˜“åº¦ï¼Œå¦‚éœ€é…ç®¡æˆ–é‘¿ç‰†å¦è¨ˆ"},
      {"name": "æ–°å¢ç†±æ°´å‡ºå£4åˆ†ä¸éŠ¹é‹¼(é™„å£“æ¥ç®¡)", "unit": "è™•", "price_low": 2500, "price_high": 5800,"remark": "12MMå…§ä¾ç¾å ´æ–½å·¥é›£æ˜“åº¦ï¼Œå¦‚éœ€é…ç®¡æˆ–é‘¿ç‰†å¦è¨ˆ"},
      {"name": "æ–°å¢æ’æ°´å£2åˆ†PVC", "unit": "è™•", "price_low": 2000, "price_high": 6000,"remark": "15MMå…§ä¾ç¾å ´æ–½å·¥é›£æ˜“åº¦ï¼Œå¦‚éœ€é…ç®¡æˆ–é‘¿ç‰†å¦è¨ˆ"},
      {"name": "é¦¬æ¡¶å®‰è£", "unit": "å¼", "price_low": 1500, "price_high": 3500,"remark": "ä¸å«è¨­å‚™ï¼Œé…ç®¡å¦è¨ˆï¼Œä¾ç¾å ´æ–½å·¥é›£æ˜“åº¦"},
      {"name": "é¢ç›†å®‰è£", "unit": "å¼", "price_low": 800, "price_high": 2000,"remark": "ä¸å«è¨­å‚™ï¼Œé…ç®¡å¦è¨ˆï¼Œä¾ç¾å ´æ–½å·¥é›£æ˜“åº¦"},
      {"name": "é¾é ­å®‰è£", "unit": "å¼", "price_low": 200, "price_high": 1200,"remark": "ä¸å«è¨­å‚™ï¼Œé…ç®¡å¦è¨ˆï¼Œä¾ç¾å ´æ–½å·¥é›£æ˜“åº¦"},
      {"name": "LEDå´ç‡ˆå®‰è£(å«é–‹å­”)", "unit": "å¼", "price_low": 200, "price_high": 800,"remark": "ä¸å«ç‡ˆå…·ï¼Œé…ç·šå¦è¨ˆ"},
      {"name": "å¸é ‚ç‡ˆ/å£ç‡ˆ/æ—¥å…‰ç‡ˆ/åŠç‡ˆå®‰è£", "unit": "å¼", "price_low": 200, "price_high": 1500,"remark": "ä¸å«ç‡ˆå…·ï¼Œé…ç·šå¦è¨ˆ"},
      {"name": "è»Œé“ç‡ˆå®‰è£", "unit": "M", "price_low": 150, "price_high": 400,"remark": "ä¸å«è¨­å‚™ï¼Œé…ç·šå¦è¨ˆï¼Œç¸½å·¥è³‡é”1200ä»¥ä¸ŠæŒ‰æ­¤åƒ¹æ ¼"},
      {"name": "ç‡ˆå…·ç·šè·¯é…ç·š", "unit": "è™•", "price_low": 300, "price_high": 800,"remark": "6MMå…§ä¾ç¾å ´æ–½å·¥é›£æ˜“åº¦ï¼Œå¦‚éœ€é…ç®¡æˆ–é‘¿ç‰†å¦è¨ˆ"},
      {"name": "ç·šè·¯æŸ¥ä¿®/æª¢ä¿®", "unit": "å¼", "price_low": 800, "price_high": 2500,"remark": "æŒ‰æ™‚é•·è¨ˆç®—"},
      {"name": "é¦¬æ¡¶/å°ä¾¿æ–—ç–é€š", "unit": "å¼", "price_low": 1500, "price_high": 2500,"remark": ""},
      {"name": "æ°´ç®¡ç–é€š", "unit": "å¼", "price_low": 1500, "price_high": 3500,"remark": ""},
      {"name": "å¼±é›»åŠç›£è¦–ç³»çµ±", "unit": "é …ç›®", "remark": ""},
      {"name": "è€å±‹ç¿»æ–°", "unit": "é …ç›®", "remark": ""},
      {"name": "å…¶ä»–å·¥ç¨‹", "unit": "é …ç›®", "remark": ""}
    ];

    const container = document.querySelector(".items");
    services.forEach(service => {
      const div = document.createElement("div");
      div.className = "item";
      let remarkHTML = service.remark ? `<div style="font-size: 0.85em; color: #888;">ğŸ“ ${service.remark}</div>` : "";
      div.innerHTML = `
        <label>${service.name}ï¼ˆ${service.unit}ï¼‰ï¼š
          <input type="number" name="${service.name}" min="0" value="0">
        </label>
        ${remarkHTML}`;
      container.appendChild(div);
    });

    document.getElementById("estimateForm").addEventListener("submit", function(e) {
      e.preventDefault();
      const formData = new FormData(this);
      const data = {};
      formData.forEach((value, key) => {
        data[key] = value;
      });

      fetch("/submit-form", {
        method: "POST",
        headers: {
          "Content-Type": "application/json"
        },
        body: JSON.stringify(data)
      })
      .then(response => {
        if (response.ok) {
          alert("âœ… å·²é€å‡ºä¼°åƒ¹ï¼");
        } else {
          alert("âŒ é€å‡ºå¤±æ•—ï¼Œè«‹ç¨å¾Œå†è©¦ã€‚");
        }
      });
    });
  </script>
</body>
</html>

